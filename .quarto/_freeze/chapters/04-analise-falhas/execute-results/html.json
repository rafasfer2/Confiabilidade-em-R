{
  "hash": "dea0e86183f19b222987f7cb201698eb",
  "result": {
    "engine": "knitr",
    "markdown": "# An√°lise de Dados de Falha com R\n\n## Introdu√ß√£o\n\nAn√°lise pr√°tica de dados de falha incluindo censura, tabelas de vida e visualiza√ß√µes.\n\n## Tipos de Censura\n\n### Censura √† Direita\n\nObserva√ß√£o interrompida antes da falha (mais comum).\n\n### Censura √† Esquerda\n\nFalha ocorreu antes do in√≠cio da observa√ß√£o.\n\n### Censura Intervalar\n\nFalha ocorreu em um intervalo de tempo.\n\n## Prepara√ß√£o de Dados\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(survival)\nlibrary(tidyverse)\n\n# Dados de exemplo\ndados_falha <- data.frame(\n  tempo = c(120, 145, 180, 200, 250, 300, 350, 400, 450, 500),\n  status = c(1, 1, 1, 0, 1, 0, 1, 1, 0, 1),  # 1=falha, 0=censura\n  equipamento = paste0(\"Equip_\", 1:10)\n)\n\n# Criar objeto Surv\nsurv_obj <- Surv(time = dados_falha$tempo, event = dados_falha$status)\n\nprint(surv_obj)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] 120  145  180  200+ 250  300+ 350  400  450+ 500 \n```\n\n\n:::\n:::\n\n\n\n\n\n\n## Tabela de Vida\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(kableExtra)\n\n# Criar tabela de vida\nlife_table <- dados_falha %>%\n  arrange(tempo) %>%\n  mutate(\n    n_risk = n():1,\n    n_event = status,\n    survival = cumprod(1 - n_event/n_risk)\n  )\n\nkable(life_table, digits = 3) %>%\n  kable_styling(bootstrap_options = c(\"striped\", \"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> tempo </th>\n   <th style=\"text-align:right;\"> status </th>\n   <th style=\"text-align:left;\"> equipamento </th>\n   <th style=\"text-align:right;\"> n_risk </th>\n   <th style=\"text-align:right;\"> n_event </th>\n   <th style=\"text-align:right;\"> survival </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 120 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:left;\"> Equip_1 </td>\n   <td style=\"text-align:right;\"> 10 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.900 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 145 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:left;\"> Equip_2 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.800 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 180 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:left;\"> Equip_3 </td>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.700 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 200 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:left;\"> Equip_4 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.700 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 250 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:left;\"> Equip_5 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.583 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 300 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:left;\"> Equip_6 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.583 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 350 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:left;\"> Equip_7 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.438 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 400 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:left;\"> Equip_8 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.292 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 450 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:left;\"> Equip_9 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.292 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 500 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:left;\"> Equip_10 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.000 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n\n\n\n## Curva de Kaplan-Meier\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(survminer)\n\n# Ajuste Kaplan-Meier\nkm_fit <- survfit(surv_obj ~ 1)\n\n# Visualizar\nggsurvplot(km_fit,\n           data = dados_falha,\n           conf.int = TRUE,\n           risk.table = TRUE,\n           title = \"Curva de Sobreviv√™ncia - Kaplan-Meier\")\n```\n\n::: {.cell-output-display}\n![](04-analise-falhas_files/figure-html/km-curve-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\n## Exerc√≠cios\n\nüìù **Exerc√≠cio 1**: Analise dados com diferentes tipos de censura.\n\nüìù **Exerc√≠cio 2**: Compare curvas KM de grupos diferentes.\n\n## Resumo\n\nüîî **Pontos-chave:**\n\n- Censura √© comum em dados de confiabilidade\n- Pacote `survival` √© essencial para an√°lise\n- Kaplan-Meier √© m√©todo n√£o-param√©trico robusto\n\n---\n\n**Pr√≥ximo cap√≠tulo:** Modelagem Weibull na Pr√°tica\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}