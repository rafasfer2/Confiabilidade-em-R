{
  "hash": "7fa78df03dd77309e9fd7238d17a1205",
  "result": {
    "engine": "knitr",
    "markdown": "# An√°lise de Sobreviv√™ncia e Modelos Semiparam√©tricos\n\n## Introdu√ß√£o\n\nAn√°lise de sobreviv√™ncia com modelos de regress√£o, incluindo Kaplan-Meier e Cox.\n\n## Modelo de Cox (Regress√£o de Riscos Proporcionais)\n\n### Formula√ß√£o\n\n$$\n\\lambda(t|X) = \\lambda_0(t) \\exp(\\beta_1 X_1 + \\beta_2 X_2 + \\ldots + \\beta_p X_p)\n$$\n\nonde $\\lambda_0(t)$ √© a taxa de risco basal.\n\n## Exemplo com Covari√°veis\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(survival)\nlibrary(survminer)\n\n# Dados de exemplo com covari√°veis\ndados <- data.frame(\n  tempo = c(120, 145, 180, 200, 250, 300, 350, 400, 450, 500,\n            100, 130, 160, 190, 220, 280, 320, 380, 420, 480),\n  status = c(1, 1, 1, 0, 1, 0, 1, 1, 0, 1,\n             1, 1, 1, 1, 0, 1, 0, 1, 1, 1),\n  temperatura = c(rep(70, 10), rep(90, 10)),  # ¬∞C\n  carga = c(rep(\"Normal\", 10), rep(\"Alta\", 10))\n)\n\n# Ajustar modelo Cox\ncox_model <- coxph(Surv(tempo, status) ~ temperatura + carga, data = dados)\n\nsummary(cox_model)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nCall:\ncoxph(formula = Surv(tempo, status) ~ temperatura + carga, data = dados)\n\n  n= 20, number of events= 15 \n\n               coef exp(coef) se(coef)     z Pr(>|z|)\ntemperatura 0.01883   1.01901  0.02705 0.696    0.486\ncargaNormal      NA        NA  0.00000    NA       NA\n\n            exp(coef) exp(-coef) lower .95 upper .95\ntemperatura     1.019     0.9813    0.9664     1.075\ncargaNormal        NA         NA        NA        NA\n\nConcordance= 0.537  (se = 0.078 )\nLikelihood ratio test= 0.49  on 1 df,   p=0.5\nWald test            = 0.48  on 1 df,   p=0.5\nScore (logrank) test = 0.49  on 1 df,   p=0.5\n```\n\n\n:::\n:::\n\n\n\n\n\n\n\n\n## Interpreta√ß√£o dos Coeficientes\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Hazard ratios\nexp(coef(cox_model))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\ntemperatura cargaNormal \n   1.019008          NA \n```\n\n\n:::\n\n```{.r .cell-code}\n# Intervalos de confian√ßa\nexp(confint(cox_model))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                2.5 % 97.5 %\ntemperatura 0.9663812 1.0745\ncargaNormal        NA     NA\n```\n\n\n:::\n:::\n\n\n\n\n\n\n\n\n## Verifica√ß√£o de Pressupostos\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Teste de proporcionalidade\ncox.zph(cox_model)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n            chisq df    p\ntemperatura 0.291  1 0.59\nGLOBAL      0.291  1 0.59\n```\n\n\n:::\n\n```{.r .cell-code}\n# Gr√°fico de res√≠duos\nggcoxzph(cox.zph(cox_model))\n```\n\n::: {.cell-output-display}\n![](06-sobrevivencia_files/figure-pdf/cox-assumptions-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n\n\n\n\n## Curvas de Sobreviv√™ncia por Grupo\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Curvas ajustadas\nfit_km <- survfit(Surv(tempo, status) ~ carga, data = dados)\n\nggsurvplot(fit_km,\n           data = dados,\n           pval = TRUE,\n           conf.int = TRUE,\n           risk.table = TRUE,\n           palette = c(\"steelblue\", \"coral\"),\n           title = \"Sobreviv√™ncia por N√≠vel de Carga\")\n```\n\n::: {.cell-output-display}\n![](06-sobrevivencia_files/figure-pdf/survival-curves-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n\n\n\n\n## Modelos Param√©tricos AFT\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(flexsurv)\n\n# Modelo AFT Weibull\naft_weibull <- flexsurvreg(Surv(tempo, status) ~ temperatura + carga,\n                            data = dados,\n                            dist = \"weibull\")\n\nsummary(aft_weibull)\n```\n:::\n\n\n\n\n\n\n\n\n## Exerc√≠cios\n\nüìù **Exerc√≠cio 1**: Ajuste modelo Cox com 3 covari√°veis.\n\nüìù **Exerc√≠cio 2**: Compare modelo Cox vs. AFT.\n\nüìù **Exerc√≠cio 3**: Interprete hazard ratios e seus IC.\n\n## Resumo\n\nüîî **Pontos-chave:**\n\n- Modelo Cox n√£o requer especifica√ß√£o da distribui√ß√£o\n- Hazard ratios quantificam efeito das covari√°veis\n- Verificar pressupostos √© essencial\n\n---\n\n**Pr√≥ximo cap√≠tulo:** Manuten√ß√£o Preventiva\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {
      "knitr": [
        "{\"type\":\"list\",\"attributes\":{},\"value\":[]}"
      ]
    },
    "preserve": null,
    "postProcess": false
  }
}