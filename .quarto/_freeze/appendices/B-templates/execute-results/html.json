{
  "hash": "f32748d773258f2f1b2b9bce702b49ef",
  "result": {
    "engine": "knitr",
    "markdown": "# Ap√™ndice B: Templates Quarto e Automa√ß√£o {.unnumbered}\n\n## Estrutura de Projeto Quarto Book\n\n### Arquivo `_quarto.yml`\n\n```yaml\nproject:\n  type: book\n  output-dir: docs\n\nbook:\n  title: \"Confiabilidade e Manuten√ß√£o\"\n  subtitle: \"Aplica√ß√µes em R\"\n  author: \"Seu Nome\"\n  date: today\n\n  chapters:\n    - index.qmd\n    - preface.qmd\n\n    - part: \"Parte I\"\n      chapters:\n        - chapters/01-intro.qmd\n        - chapters/02-analise.qmd\n\n    - references.qmd\n\nbibliography: references.bib\n\nformat:\n  html:\n    theme:\n      light: flatly\n      dark: darkly\n    code-fold: show\n    code-tools: true\n    toc: true\n    toc-depth: 3\n    number-sections: true\n\n  pdf:\n    documentclass: scrbook\n    toc: true\n    number-sections: true\n\nexecute:\n  echo: true\n  warning: false\n  message: false\n  cache: true\n  freeze: auto\n```\n\n## Template de Cap√≠tulo\n\n```markdown\n# T√≠tulo do Cap√≠tulo\n\n## Introdu√ß√£o\n\nBreve introdu√ß√£o ao tema...\n\n## Conceitos\n\n### Subse√ß√£o 1\n\nExplica√ß√£o com equa√ß√£o:\n\n$$\nR(t) = e^{-\\lambda t}\n$$ {#eq-confiabilidade}\n\n### Exemplo Pr√°tico\n\nüí° **Exemplo**: Descri√ß√£o do exemplo\n\n::: {.cell}\n\n```{.r .cell-code}\n# Exemplo ilustrativo (n√£o executado)\n# library(tidyverse)\n# dados <- data.frame(...)\n# ggplot(dados, aes(x, y)) + geom_line()\n```\n:::\n\n## Exerc√≠cios\n\nüìù **Exerc√≠cio 1**: Descri√ß√£o do exerc√≠cio.\n\n## Resumo\n\nüîî **Pontos-chave:**\n\n- Ponto 1\n- Ponto 2\n\n---\n\n**Pr√≥ximo cap√≠tulo:** Nome do pr√≥ximo\n```\n\n## Op√ß√µes de Chunks\n\n### Controle de Execu√ß√£o\n\n::: {.cell}\n\n:::\n\n### Figuras\n\n\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# C√≥digo do gr√°fico\n```\n:::\n\n\n\n\n\n\n### Tabelas\n\n\n\n\n\n\n::: {#tbl-exemplo .cell tbl-cap='Legenda da tabela'}\n\n```{.r .cell-code}\n# C√≥digo da tabela\n```\n:::\n\n\n\n\n\n\n## Refer√™ncias Cruzadas\n\n### Figuras\n\n```markdown\nVeja @fig-exemplo para detalhes.\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(1:10)\n```\n\n::: {.cell-output-display}\n![Minha figura](B-templates_files/figure-html/fig-exemplo-2-1.png){#fig-exemplo-2 width=672}\n:::\n:::\n```\n\n### Tabelas\n\n```markdown\nA @tbl-resultados apresenta os dados.\n\n::: {#tbl-resultados .cell tbl-cap='Resultados'}\n\n```{.r .cell-code}\n# knitr::kable(dados)\n```\n:::\n```\n\n### Equa√ß√µes\n\n```markdown\nComo mostra a @eq-weibull:\n\n$$\nf(t) = \\frac{\\beta}{\\eta}\\left(\\frac{t}{\\eta}\\right)^{\\beta-1} e^{-(t/\\eta)^\\beta}\n$$ {#eq-weibull}\n```\n\n### Cap√≠tulos e Se√ß√µes\n\n```markdown\nComo discutido no @sec-introducao...\n\n## Introdu√ß√£o {#sec-introducao}\n```\n\n## CI/CD com GitHub Actions\n\n### `.github/workflows/quarto-publish.yml`\n\n```yaml\nname: Render and Publish Quarto Book\n\non:\n  push:\n    branches: [main]\n  pull_request:\n    branches: [main]\n\njobs:\n  build-deploy:\n    runs-on: ubuntu-latest\n\n    steps:\n      - name: Checkout repository\n        uses: actions/checkout@v3\n\n      - name: Setup R\n        uses: r-lib/actions/setup-r@v2\n        with:\n          r-version: '4.5.1'\n\n      - name: Install R packages\n        run: |\n          install.packages(c(\"tidyverse\", \"survival\", \"ggplot2\"))\n        shell: Rscript {0}\n\n      - name: Setup Quarto\n        uses: quarto-dev/quarto-actions/setup@v2\n        with:\n          version: '1.6.39'\n\n      - name: Render Quarto Book\n        run: quarto render\n\n      - name: Deploy to GitHub Pages\n        if: github.ref == 'refs/heads/main'\n        uses: peaceiris/actions-gh-pages@v3\n        with:\n          github_token: ${{ secrets.GITHUB_TOKEN }}\n          publish_dir: ./docs\n```\n\n## Deploy para Quarto Pub\n\n### Comandos\n\n```bash\n# Publicar pela primeira vez\nquarto publish quarto-pub\n\n# Atualizar\nquarto publish quarto-pub --update\n```\n\n### Configura√ß√£o no `_quarto.yml`\n\n```yaml\nproject:\n  type: book\n\nquarto-pub:\n  site-id: \"seu-site-id\"\n```\n\n## Deploy para GitHub Pages\n\n### Passo a Passo\n\n1. **Configurar output para `docs/`**\n\n```yaml\nproject:\n  output-dir: docs\n```\n\n2. **Criar `.nojekyll`**\n\n```bash\ntouch docs/.nojekyll\n```\n\n3. **Configurar GitHub Pages**\n   - Settings ‚Üí Pages\n   - Source: Deploy from branch\n   - Branch: `main` / `docs`\n\n4. **Push e esperar**\n\n```bash\ngit add .\ngit commit -m \"Update book\"\ngit push\n```\n\n## Deploy para Netlify\n\n### `netlify.toml`\n\n```toml\n[build]\n  command = \"quarto render\"\n  publish = \"docs\"\n\n[build.environment]\n  QUARTO_VERSION = \"1.6.39\"\n  R_VERSION = \"4.5.1\"\n\n[[redirects]]\n  from = \"/*\"\n  to = \"/index.html\"\n  status = 200\n```\n\n## Makefile para Automa√ß√£o\n\n### `Makefile`\n\n```makefile\n.PHONY: preview render clean deploy\n\npreview:\n\tquarto preview\n\nrender:\n\tquarto render\n\nclean:\n\trm -rf docs/ _book/ .quarto/ *_cache/ *_files/\n\ndeploy: render\n\tgit add docs/\n\tgit commit -m \"Update rendered book\"\n\tgit push\n\ninstall-deps:\n\tRscript -e \"install.packages(c('tidyverse', 'survival', 'ggplot2'))\"\n```\n\n**Uso:**\n\n```bash\nmake preview   # Visualizar\nmake render    # Renderizar\nmake clean     # Limpar\nmake deploy    # Deploy\n```\n\n## Docker para Reprodutibilidade\n\n### `Dockerfile`\n\n```dockerfile\nFROM rocker/r-ver:4.5.1\n\n# Instalar Quarto\nRUN wget https://github.com/quarto-dev/quarto-cli/releases/download/v1.6.39/quarto-1.6.39-linux-amd64.deb\nRUN dpkg -i quarto-1.6.39-linux-amd64.deb\n\n# Instalar depend√™ncias R\nRUN R -e \"install.packages(c('tidyverse', 'survival', 'ggplot2'))\"\n\n# Copiar projeto\nCOPY . /workspace\nWORKDIR /workspace\n\n# Renderizar\nCMD [\"quarto\", \"render\"]\n```\n\n**Uso:**\n\n```bash\ndocker build -t meu-livro .\ndocker run -v $(pwd):/workspace meu-livro\n```\n\n## Scripts Auxiliares\n\n### `render_and_open.R`\n\n```r\n#!/usr/bin/env Rscript\n\n# Renderizar e abrir no navegador\nsystem(\"quarto render\")\nsystem(\"open docs/index.html\")  # macOS\n# system(\"xdg-open docs/index.html\")  # Linux\n# system(\"start docs/index.html\")  # Windows\n```\n\n### `check_links.sh`\n\n```bash\n#!/bin/bash\n# Verificar links quebrados\n\nquarto render\ncd docs\npython -m http.server 8000 &\nSERVER_PID=$!\nsleep 2\n\n# Usar linkchecker ou similar\nlinkchecker http://localhost:8000\n\nkill $SERVER_PID\n```\n\n## Boas Pr√°ticas\n\n‚úÖ **Fazer:**\n- Usar `freeze: auto` para cache inteligente\n- Versionar dados pequenos com Git LFS\n- Documentar requisitos em `README.md`\n- Testar localmente antes de fazer push\n- Usar CI/CD para deploy autom√°tico\n\n‚ùå **Evitar:**\n- Commitar arquivos gerados (`_book/`, `docs/`)\n- Dados grandes sem Git LFS\n- Executar c√≥digo demorado sem cache\n- Depend√™ncias n√£o documentadas\n\n## Recursos\n\n- [Quarto Books Guide](https://quarto.org/docs/books/)\n- [GitHub Actions Documentation](https://docs.github.com/actions)\n- [Quarto Pub](https://quartopub.com/)\n- [Netlify Docs](https://docs.netlify.com/)\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}